box: node
build:
  steps:

    # Install grunt.
    - script:
        name: install grunt
        code: sudo npm install -g grunt-cli --allow-root

    # Install bower.
    - script:
        name: install bower
        code: sudo npm install -g bower --allow-root

    # Install client side libraries.
    - script:
        name: install client side libraries
        code: sudo bower install --allow-root

    # Install npm dependencies.
    - npm-install

    # Run grunt to build the website.
    - script:
        name: build the website
        code: grunt

    # A custom script step, name value is used in the UI
    # and the code value contains the command that get executed
    - script:
        name: echo nodejs information
        code: |
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"
